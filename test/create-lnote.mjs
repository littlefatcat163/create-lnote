#!/usr/bin/env node
import inquirer from"inquirer";import chalk from"chalk";import fs from"fs";import fse from"fs-extra";import path from"path";import{dirname}from"node:path";import{fileURLToPath}from"node:url";const log=console.log,__filename=fileURLToPath(import.meta.url),__dirname=dirname(__filename),args=(log(chalk.green("hello lnote....")),process.argv.slice(2)),[appName]=args;function validateAppName(e){return e?!fs.existsSync(e)||(log(chalk.red(e+"已经存在，请重新输入!")),!1):(log(chalk.red("请输入新目录")),!1)}function create({name:e,version:a}){fse.copySync(path.resolve(__dirname,"../template"),path.resolve(process.cwd(),""+appName));var r=path.resolve(process.cwd(),appName+"/package.json"),o=fse.readFileSync(r,"utf-8"),o={...JSON.parse(o),name:e,version:a};fse.writeFileSync(r,JSON.stringify(o,null,2)),log(chalk.green(appName)+" 创建成功!!!")}inquirer.prompt([{type:"input",name:"name",message:"请输入项目名称：",default:appName},{type:"input",name:"version",message:"请输入版本号：",default:"0.1.0"}]).then(e=>{create(e)});